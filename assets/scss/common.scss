/* Stuff which can be used wherever, whenever. */
@import "config";

.tags {
    text-align: left;

    li {
        list-style: none;
        display: inline-block;
        vertical-align: top;
        text-transform: lowercase;
        font-size: 0.85em;
        margin-right: 0.5em;
        border: 1px solid #777;
        color: #777;
        padding: 0.3em 0.5em 0.5em;
        letter-spacing: 0px;
        line-height: 1;

        &:before {
            content: "#";
        }
    }
}

header {
    text-align: left;
    line-height: 2;
    padding: 0;
    background: $color1_aux;
    color: $color1;
    position: relative;
    z-index: 10;

    [data-icon] {
        font-size: 2em;
        position: absolute;

        &:before {
            content: ' ';
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(251, 213, 188, 0.2);
        }
    }
    h1 {
        font-size: 4rem;
        text-align: left;
        line-height: 1;
        margin: 0;
        margin-bottom: 0.5em;

        .fn {
            font-weight: 400;
            color: $color1_dark;
            white-space: nowrap;
            @media (max-width: 440px) {
                white-space: normal;
            }

            span {
                font-weight: bold;
            }
        }
        .who {
            position: relative;
        }
        .nickname {
            font-weight: 400;
            display: block;
            font-size: 0.4em;
            text-align: center;
            text-transform: lowercase;
            position: absolute;
            left: 0;
            height: 1.5em;
            line-height: 1.5;
            bottom: -0.5em;
        }
        abbr[title] {
            border: none;
        }
    }
    .tagline {
        word-spacing: 1em;
        letter-spacing: 0.3em;
        color: $color1;
        text-transform: uppercase;
        line-height: 1;

        del {
            position: absolute;
            opacity: 1;
        }
        ins {
            opacity: 0;
            font-style: italic;
        }
        body:hover & {
            del {
                opacity: 0;
            }
            ins {
                opacity: 1;
            }
        }
        del,
        ins {
            text-decoration: none;
            font-size: 0.85em;
            letter-spacing: -1px;
            transition: opacity 2s;
        }
    }
    .box {
        padding-top: 15%;
        /*padding-top: 20vh;*/
    }
}


body:after {
    content:  ' ';
    display: block;
    width: 100%;
    height: 2em;
    position: fixed;
    top: 0;
    left: 0;
    background: $color3;
    border-bottom: 5px solid $color1;
    z-index: 2;

    .touch & {
    	display: none;
    }
}


#sticky-header {
    [data-icon],
    h1 {
        transition: all 0.3s;
        -moz-transition: font-size 0.3s;
    }
}


blockquote.quote {
    font-size: 1.3em;
    margin-left: 5%;
    max-width: 28.5em;
    line-height: 1.2;
    margin-bottom: 1em;

    main & {
        max-width: 20em;
        margin: 1em auto 2em;
    }

    p {
        margin-bottom: 0;
        max-width: 60%;
        line-height: 1;
    }
    .quote--sig {
        font-size: 0.5em;
        small {
            font-size: 1em;    
        }
    }

    &.t-big {
        font-size: 2.3em;
        padding: 0;
        line-height: 1.2;
        margin: 0 auto;
    }
    > * {
        &:nth-last-child(n+2) {
            &:before {
                content: "«";   
                margin-right: 0.1em;
            }
            &:after {
                content: "»";
                margin-left: 0.1em;
            }
        }
    }
}

main p {
    max-width: 40em;
}

.intro > * {
    padding: 5% 0;

    &:nth-child(2n+2) {
        background: $color3_light;
        color: $color3_dark;

        h2,
        h3,
        h4 {
            color: $color3_dark;
        }
    }
}
.bridge {
    .pillow {
        padding: 5% 0;
        border-bottom: 2px solid $color1;
    }
}
.inline-anchors {
    text-align: center;

    &:before {
        content: "Eras: ";
        opacity: 0.5;
        margin-right: 1em;
        text-transform: uppercase;
        font-size: 0.8em;
        display: block;

        @media (min-width: 600px) {
            display: inline-block;
        }
    } 

    li {
        display: block;
        margin: 0;

        a {
            color: $color2;
            display: block;
            padding: 0.25em 0.5em;

            &:before {
                font-weight: 400;
                font-size: 0.8em;
                margin-right: 0.5em;
            }
        }
        @media (min-width: 600px) {
            display: inline-block;
            vertical-align: top;

            + li {
                &:before {
                    content: '\00B7';
                    margin: 0 0.5em;
                    font-weight: bold;
                    color: $color1;
                }
            }
            a[href] {
                display: inline;
                padding: 0;
            }
        }
    }
}

.ratio {
    &[data-ratio=one-screen] {
        box-sizing: border-box;
    }
}

.header-intro {
    font-size: 0.8em;
    max-width: 50em;
    margin-top: 5em;
    color: $color3_dark;
    padding-bottom: 1em;

    h3,
    .tags li {
        color: inherit;
    }
    .tags li {
        border-width: 1px;
        border-color: inherit;
    }
}

header {
    [data-animation] {
        opacity: 0;

        .header-animation-off &,
        .no-js & {
            opacity: 1;
        }
    }
    .restart-animations[class] {
        display: none;
    }
    .header-animation-off & .restart-animations {
        display: block;
    }
}
header .box * {
    -webkit-animation-duration: 2s;
    animation-duration: 2s;
}

header {
    .box {
        position: relative;
    }
    .header-intro .button {
        display: block;
        font-size: 0.8em;
        position: absolute;
        top: 1em; 
        right: 0;
        color: $color3_dark;

        &:hover {
        	text-decoration: none;
        	border-color: inherit;
        }
    }
}
.button {
    border: 1px solid;
    padding: 0.2em 1em 0.35em;
    border-radius: 5px;
    background: rgba(255,255,255,0);
    color: $color2;
    border-color: $color2;
    transition: background-color 1s;
    
    &.t-discrete,
    &.button__discrete {
        text-decoration: underline;    
        border-color: rgba(0,0,0,0.1);
        transition: border-color 1s, color 1s;
    }
    &:focus,
    &:hover {
        text-decoration: none;
        color: $color1;
        border-color: $color1;
        outline: 0;
        background-color: rgba(255,255,255,0.3);
    }
    &:active {
        background: white;
        text-decoration: none;
    }
}

.intro-quote {
    padding: 10% 0;
    background: url(/assets/imgs/vector-andr3-final.svg) no-repeat 80% center;
    background-size: auto 80%;

    color: #877162;

    transition: background-color 2s,
                color 2s;
    
    .no-js &.t-off,
    &.t-off  {
        background-color: #877162;
        color: #877162;
    }
    &.t-on {
        background-color: #F7E7DE;
        color: #877162;
    }
}

.intro-quote {
    position: relative;
    z-index: 2;
}

.no-js .reading-modes {
    display: none;
}
.intro .reading-modes[class] {
    padding: 1em 0 1em 0.5em;
    background: rgba(252, 228, 214, 0.2);

    &,
    &.t-off {
        position: relative;
        top: -5em;
        opacity: 0;
        z-index: 1;
        transition: top 1s, 
                    opacity 1s;
    }
    &.t-on {
        top: 0;
        opacity: 1;
    }


    p {
        text-align: center;
        max-width: none;
    }

    ul {
        font-size: 0;
    }
    li {
        display: inline-block;
        vertical-align: top;
        list-style: none;
        width: 33%;
        box-sizing: border-box;
        font-size: 16px;
        font-size: 1rem;
        padding-right: 0.5em;

        + li {
            text-align: center;
            padding-right: 0em;
            + li {
                text-align: right;
                padding-left: 0.5em;
            }
        }
        button {
            display: inline-block;
            width: 100%;
            position: relative;

            i {
                display: inline-block;
                width: 1em;
                position: absolute;
                right: 0.5em;
            }
        }
    }

    button {
        position: relative;

        .key {
            position: absolute;
            left: 0.5em;
            opacity: 0.5;
            top: 20%;
            font-size: 0.8em;
        }
        span {
            height: 1.5em;
            position: absolute;
            top: 100%;
            left:0;
            width: 100%;
            text-align: center;
            font-size: 0.8em;
            color: rgba(0,0,0,0.4);
        }
    }
}

.touch .key {
    display: none;
}

.key {
    font-family: monospace;
    border: 1px solid rgba(0,0,0,0.5);
    color: rgba(0,0,0,0.5);
    position: relative;
    margin-right: 1em;
    padding: 0.1em 0.3em;
    font-style: normal;
    text-align: center;
}

.intro-quote {
    border-top: 5px solid $color1;
    border-bottom: 5px solid $color1;
}

[data-reading-mode=quick] .reading-modes .mode-quick,
[data-reading-mode=semifull] .reading-modes .mode-semifull,
[data-reading-mode=full] .reading-modes .mode-full {
    color: $color1;
    border-color: $color1;

    i:after {
        content: '\2713';
    }
}

.only-quick,
.only-semifull,
.only-full {
    background: rgba(255,255,255,0);
    transition: background 1s;

    &.animated {
        background-color: #FAFC7E;
    }
}
[data-reading-mode=quick] {
    .only-quick[class] {
        display: block;
    }
    .only-semifull,
    .only-full {
        display: none;
    }
}
[data-reading-mode=semifull] {
    .only-semifull[class] {
        display: block;
    }
    span.only-semifull[class] {
        display: inline;
    }
    .only-quick,
    .only-full {
        display: none;
    }
}
[data-reading-mode=full] {
    .only-full[class] {
        display: block;
    }
    span.only-full[class] {
        display: inline;
    }
    .only-quick,
    .only-semifull {
        display: none;
    }
}



header .pillow {
	padding-bottom: 2em;
}

#site-actions-sticky-wrapper {
	position: absolute;
	bottom: 0;
	right: 0em;
	width: 100%;
}
.is-sticky#site-actions-sticky-wrapper {
	.button--main {
		border-bottom-color: rgba(0,0,0,0);
	}
	.button--secondary {
		height: 0;
		opacity: 0;
	}
}
.actions {
	text-align: right;
	position: absolute;
	bottom: 0px;
	right: 1em;
    max-height: 3em;
    .is-sticky & {
        max-height: 2em;
    }

	li {
		float: left;
		margin: 0;
		font-size: 0.9em;
		list-style-type: none;

		&:last-child .button {
			margin-right: 0;

			.button--main {
				padding-right: 0.3em;
                padding-left: 0.3em;
                text-align: center;
			}
			.button--secondary {
				padding-right: 0.3em;
				text-align: right;
				transition: opacity 0.4s;
			}
		}

		&:first-child .button {
			span.button--main {
				padding-left: 0.3em;
			}
			span.button--secondary {
				padding-left: 0.3em;
				text-align: left;
			}
		}
	}

	.button {
		border-width: 2px;
		display: block;
		font-weight: bold;
		line-height: 1;
		padding: 0.5em 0em 1em;
		position: relative;
		text-align: left;
		border: 0;
		color: $color1;

	    span.button--main.t-no-italic {
    		font-style: normal;
	    }
		span.button--main {
			padding: 0em 2em 0.2em;
			border-bottom: 3px solid rgba(0,0,0,0.05);
			font-style: italic;
			display: block;
			background: rgba(255,255,255,0);
			transition: all 0.4s;
		}
		span.button--secondary {
			display: block;
			font-weight: 400;
			font-size: 0.8em;
			color: rgba(0,0,0,0.3);
			text-align: center;
		}
		&:hover {
			background: none;
			color: $color1_dark;

			.button--main {
				border-color: $color1;
			}
			.button--secondary {

			}

			* {
				color: inherit;
			}
		}
	}

}

#follow,
#contact {
    .pillow {
        padding: 5% 0;
    }
}
#frm_contact {
    .pillow {
        padding: 5% 0;
        color: $color3_dark;

        h2 {
            color: inherit;
        }
    }
}

.unsupported {
    padding-top: 3em;
    padding-bottom: 3em;
    position: relative;
    z-index: 100;
    background: white;

    h2 {
        color: #c00;
    }
    p {
        max-width: 35em;
    }
}

#demo-takeover-video {
    margin: 0 auto;

    .vjs-big-play-button {
        left: 50%;
        margin-left: -2em;
        top: 50%;
        margin-top: -1.3em;
    }
}